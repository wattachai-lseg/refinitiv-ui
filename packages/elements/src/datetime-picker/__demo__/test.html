<!DOCTYPE html>
<html lang="en-GB">
  <head>
    <meta charset="utf-8" />
    <title>Datetime Picker</title>
    <style type="text/css">
      ef-datetime-picker[range][timepicker] {
        width: 400px;
      }
      demo-block {
        width: 1400px;
      }
      ef-text-field,
      ef-select {
        width: 300px;
      }
    </style>
  </head>
  <body>
    <script type="module">
      import '@refinitiv-ui/elements/button';
      import '@refinitiv-ui/elements/checkbox';
      import '@refinitiv-ui/elements/datetime-picker';
      import '@refinitiv-ui/elements/item';
      import '@refinitiv-ui/elements/radio-button';
      import '@refinitiv-ui/elements/select';

      import '@refinitiv-ui/demo-block';
      import '@refinitiv-ui/demo-block/demo.css';

      // Dynamic import theme files from search params of the URL
      // Ex. http://localhost:3000?theme=halo&varint=dark will load halo-theme/dark
      const url = new URL(window.location);
      const theme = url.searchParams.get('theme') || 'halo';
      const variant = url.searchParams.get('variant') || 'light';

      if (!window.location.search) {
        url.searchParams.set('theme', theme);
        url.searchParams.append('variant', variant);
        window.location.search = url.searchParams.toString();
      }

      import(`../../../../../node_modules/@refinitiv-ui/${theme}-theme/${variant}/css/native-elements.css`);
      import(`../../../lib/datetime-picker/themes/${theme}/${variant}/index.js`);
      import(`../../../lib/button/themes/${theme}/${variant}/index.js`);
      import(`../../../lib/checkbox/themes/${theme}/${variant}/index.js`);
      import(`../../../lib/select/themes/${theme}/${variant}/index.js`);
      import(`../../../lib/item/themes/${theme}/${variant}/index.js`);
      import(`../../../lib/radio-button/themes/${theme}/${variant}/index.js`);
    </script>
    <demo-block header="Custom Slots" tags="slot">
      <style type="text/css">
        .test {
          background-color: red;
          width: 100%;
          height: 100%;
        }
      </style>

      <ef-datetime-picker id="default-range" range duplex="split" timepicker>
        <div slot="calendar-from-2023-10-10" class="test">üêû</div>
        <div slot="calendar-to-2023-11-09" class="test">üêû</div>
      </ef-datetime-picker>
      <script type="module">
        const el = document.getElementById('default-range');
        el.addEventListener('before-cell-render', (event) => {
          const newSlot = document.createElement('div');
          if (event.detail.cell.value === '2023-11-10') {
            newSlot.slot = 'calendar-to-2023-11-10';
            newSlot.classList.add('test');
            newSlot.innerText = 'üêõ';
            el.append(newSlot);
          }
        });
      </script>
    </demo-block>
  </body>
</html>
